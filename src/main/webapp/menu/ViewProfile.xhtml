<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
<h:body>

	<ui:composition template="/template/common/commonLayout.xhtml">

		<ui:define name="content">

			<div class="panel panel-default">

				<div class="panel-body"
					style="border: 0px solid blue; margin-top: 4px; height: 650px; font-family: Open Sans sans-serif !important; font-size: 14px !important;">


					<h:form>
						<div class="form-group row">

							<div class="col-md-12 col-sm-12 col-xs-12">
								<!--error massage  -->
								<h:panelGroup layout="block"
									rendered="#{not userAccountController.valid and not facesContext.validationFailed}">
									<ul>
										<ui:repeat value="#{facesContext.messageList}"
											var="facesMessage">
											<li class="alert"
												style="list-style: none; background-color: #FF2400; color: white">
												<center>
													<h:outputText value="#{facesMessage.summary}"
														escape="false" />
												</center>
											</li>
										</ui:repeat>
									</ul>
								</h:panelGroup>

							</div>

						</div>
						<table class="table table-hover"
							style="font-size: 15px; font-family: Times New Roman; width: 50%; margin-left: 20px;">
							<ui:repeat var="user"
								value="#{userAccountController.userDtoDetails}">

								<thead>
									<tr>
										<th colspan="2"><center>Account Information</center></th>
									</tr>
									<tr>
										<td bgcolor="#99b1bf"><label style="color: white;">Your
												Profile</label></td>

										<td bgcolor="#99b1bf"><label style="color: white;">Edit
												Your Profile</label></td>
									</tr>
								</thead>
								<tbody class="details">
									<tr>

										<td><img
											src="#{loadUserInformationsController.getContextPath()}/resources/userImages/#{loadUserInformationsController.users.image}"
											class="w3-circle" style="width: 20%; margin: 5px"
											alt="userImage" /></td>

										<td>
											<div class="fileupload fileupload-new"
												data-provides="fileupload">
												<div class="fileupload-preview thumbnail"
													style="width: 80%; height: 70px;"></div>
												<div>
													<span class="btn btn-file btn-success"><span
														class="fileupload-new">Select image</span><span
														class="fileupload-exists">Change</span> <p:fileUpload
															id="pict" value="#" mode="simple"
															allowTypes="/(\.|\/)(gif|jpe?g|png)$/" /> </span> <a href="#"
														class="btn btn-danger fileupload-exists"
														data-dismiss="fileupload">Remove</a>
												</div>
											</div>
										</td>

									</tr>
									<tr>

										<td colspan="2"><span><h:commandLink
													style="color:white"
													class="btn btn-success glyphicon glyphicon-edit"
													value="Edit"
													action="#{userAccountController.editAction(user)}"
													rendered="#{not user.editable}" /></span> <h:commandLink
												style="margin-left:2px;color:white"
												class="btn btn-danger 	glyphicon glyphicon-remove"
												value="Cancel"
												action="#{userAccountController.cancel(user)}"
												rendered="#{user.editable}" /></td>

									</tr>
									<tr>
										<td>FirstName:</td>
										<td><h:inputText value="#{user.fname}" size="20"
												rendered="#{user.editable}" id="d" /> <h:outputText
												value="#{user.fname}" rendered="#{not user.editable}" /></td>


									</tr>
									<tr>
										<td>LastName:</td>
										<td><h:inputText value="#{user.lname}" size="20"
												rendered="#{user.editable}" /> <h:outputText
												value="#{user.lname}" rendered="#{not user.editable}" /></td>

									</tr>
									<tr>
										<td>Address:</td>
										<td><h:inputText value="#{user.address}" size="20"
												rendered="#{user.editable}" /> <h:outputText
												value="#{user.address}" rendered="#{not user.editable}" /></td>

									</tr>

								</tbody>
							</ui:repeat>
						</table>
						<h:commandButton value="Save Changes" styleClass="btn btn-primary"
							style="margin-left:20px;"
							action="#{userAccountController.saveAction(user)}" />


					</h:form>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>